let gridOptions;function asignarEventos(){aplicarMascaraCantidad("costo_tua"),document.addEventListener("keydown",a=>{"Escape"===a.key&&resetForm()})}function configurarBotones(){$(".contenedor-altas").hide(),$("#crear-aeronave").click(mostrarContenedorAltas),$(".btn-cancelar").click(a=>{resetForm()}),$("#btnGuardar").click(a=>{validateInputs($("#formAltas"))&&(""==$("#aeropuerto_id").val()?crearAeropuerto():actualizarAeropuerto())})}function inicializarPagina(){iniciarTabla("",[{headerName:"id",field:"aeropuerto_id",width:80},{headerName:"Nombre",field:"nombre",width:250},{headerName:"Código IATA",field:"codigo_iata",width:120},{headerName:"Código ICAO",field:"codigo_icao",width:120},{headerName:"Costo TUA",field:"costo_tua",width:120,valueFormatter:function(a){return Number(a.value).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{headerName:"País",field:"pais",width:100},{headerName:"Estado",field:"estado",width:135},{headerName:"Estatus",field:"estatus",width:100},{headerName:"Acción",cellRenderer:function(a){const o=document.createElement("I");o.className="fa-regular fa-pen-to-square btn btn-editar",o.title="Editar",o.addEventListener("click",(async function(){await mostrarContenedorAltas(),$("#aeropuerto_id").val(a.data.aeropuerto_id),$("#nombre").val(a.data.nombre),$("#codigo_iata").val(a.data.codigo_iata),$("#codigo_icao").val(a.data.codigo_icao),$("#costo_tua").val(a.data.costo_tua),$("#pais").val(a.data.pais),$("#estado").val(a.data.estado),$("#municipio").val(a.data.municipio),$("#concesionario").val(a.data.concesionario),$("#permisionario").val(a.data.permisionario),$("#longitud").val(a.data.longitud),$("#latitud").val(a.data.latitud),$("#altitud").val(a.data.altitud),$("#estatus").val(a.data.estatus)}));const e=document.createElement("div");return e.classList="btn-cont centrado",e.appendChild(o),e},width:150,headerClass:"txt-center",cellClass:"custom-action-cell",filter:!1}],"#myGrid"),traeAeropuerto()}function resetForm(){cerrarVentana(".contenedor-altas",["#formAltas"])}async function mostrarContenedorAltas(){$(".contenedor-altas").show()}async function traeAeropuerto(){try{const a=await fetch("allAeropuertos",{method:"GET"}),o=await a.json();console.log(o);let e=verificarArray(o);gridApi.setGridOption("rowData",e)}catch(a){console.error(a),SwalToast("warning","Error al obtener los usuarios",2500)}}async function crearAeropuerto(){const a=$("#nombre").val(),o=$("#codigo_iata").val(),e=$("#codigo_icao").val(),t=$("#costo_tua").val(),r=$("#pais").val(),i=$("#estado").val(),n=$("#municipio").val(),d=$("#concesionario").val(),c=$("#permisionario").val(),s=$("#longitud").val(),l=$("#latitud").val(),p=$("#altitud").val(),u=$("#estatus").val();try{const m=new FormData;m.append("nombre",a),m.append("codigo_iata",o),m.append("codigo_icao",e),m.append("costo_tua",t),m.append("pais",r),m.append("estado",i),m.append("municipio",n),m.append("concesionario",d),m.append("permisionario",c),m.append("longitud",s),m.append("latitud",l),m.append("altitud",p),m.append("estatus",u);const v=await fetch("crear/aeropuerto",{method:"POST",body:m}),$=await v.json();1==$.exito?(SwalLoad("success","Éxito","Registro Creado Correctamente",!1),setTimeout(()=>{swal.close(),resetForm(),traeAeropuerto()},1500)):0==$.exito&&SwalLoad("error","Error en la Transacción",$.errorSMS,!0),$.alertas&&SwalToast("warning",$.alertas.error,2500)}catch(a){console.error(a),SwalLoad("error","Error en la Conexión","Comunicate con el Administrador",!1)}}async function actualizarAeropuerto(){const a=$("#aeropuerto_id").val(),o=$("#nombre").val(),e=$("#codigo_iata").val(),t=$("#codigo_icao").val(),r=sinComa($("#costo_tua").val()),i=$("#pais").val(),n=$("#estado").val(),d=$("#municipio").val(),c=$("#concesionario").val(),s=$("#permisionario").val(),l=$("#longitud").val(),p=$("#latitud").val(),u=$("#altitud").val(),m=$("#estatus").val();try{const v=new FormData;v.append("aeropuerto_id",a),v.append("nombre",o),v.append("codigo_iata",e),v.append("codigo_icao",t),v.append("costo_tua",r),v.append("pais",i),v.append("estado",n),v.append("municipio",d),v.append("concesionario",c),v.append("permisionario",s),v.append("longitud",l),v.append("latitud",p),v.append("altitud",u),v.append("estatus",m);const $=await fetch("actualizar/aeropuerto",{method:"POST",body:v}),g=await $.json();1==g.exito?(SwalLoad("success","Éxito","Registro Actualizado Correctamente",!1),setTimeout(()=>{swal.close(),resetForm(),traeAeropuerto()},1500)):0==g.exito&&SwalLoad("error","Error en la Transacción",g.errorSMS,!0),g.alertas&&SwalToast("warning",g.alertas.error,2500)}catch(a){console.error(a),SwalLoad("error","Error en la Conexión","Comunicate con el Administrador",!1)}}$((function(){asignarEventos(),inicializarPagina(),configurarBotones()}));
//# sourceMappingURL=aeropuerto.js.map
