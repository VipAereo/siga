{"version":3,"sources":["tarifas.js"],"names":["gridOptions","asignarEventos","$","hide","document","addEventListener","e","key","resetForm","aplicarMascaraCantidad","getElementById","async","event","preventDefault","show","focus","data","obtenerRutas","mostrarListaSearch","obtenerDetalleTarifa","obtenerAeronaves","configurarBotones","click","mostrarContenedorAltas","validateInputs","val","crearTarifa","actualizarTarifa","inicializarPagina","iniciarTabla","headerName","field","width","cellStyle","textAlign","valueFormatter","params","Number","value","toFixed","replace","N","I","cellRenderer","editButton","createElement","className","title","tarifa_id","tiempo_estimado","concepto","tipo_vuelo","costo","impuesto","descuento","ruta_id","text","ruta","aeronave_id","modelo","addClass","actionContainer","classList","appendChild","headerClass","cellClass","filter","traerTarifas","cerrarVentana","removeClass","respuesta","fetch","method","json","length","SwalToast","error","console","SwalLoad","log","aeronave","datos","FormData","append","body","exito","distancia","ktas","tiempoEstimado","calcularTiempoEstimado","alertas","tiempo","horas","Math","floor","round","convert","verificarArray","gridApi","setGridOption","setTimeout","swal","close","errorSMS"],"mappings":"AAAA,IAAIA,YASJ,SAASC,iBAELC,EAAE,eAAeC,OACjBD,EAAE,gBAAgBC,OAElBC,SAASC,iBAAiB,UAAWC,IACnB,WAAVA,EAAEC,KACFC,cAYRC,uBAAuB,QAAS,WAAY,aAG5CL,SAASM,eAAe,WAAWL,iBAAiB,aAAaM,eAAgBC,GAC7EA,EAAMC,iBACNX,EAAE,eAAeY,OACjBZ,EAAE,eAAea,QACjB,IAAIC,QAAaC,qBACQC,mBAAmBF,EAAM,cAAe,UAAW,gBAC5EG,0BAIJf,SAASM,eAAe,eAAeL,iBAAiB,aAAaM,eAAgBC,GACjFA,EAAMC,iBACNX,EAAE,gBAAgBY,OAClBZ,EAAE,gBAAgBa,QAClB,IAAIC,QAAaI,yBACQF,mBAAmBF,EAAM,eAAgB,cAAe,UACjFG,0BAIR,SAASE,oBACLnB,EAAE,qBAAqBC,OACvBD,EAAE,iBAAiBoB,MAAMC,wBAEzBrB,EAAE,iBAAiBoB,MAAMhB,IACrBE,cAGJN,EAAE,eAAeoB,MAAMhB,IACLkB,eAAetB,EAAE,iBACO,IAAzBA,EAAE,cAAcuB,MAAcC,cAAgBC,sBAInE,SAASC,oBAoGLC,aADW,GAlGM,CACb,CACIC,WAAY,KACZC,MAAO,YACPC,MAAO,IAEX,CACIF,WAAY,WACZC,MAAO,WACPC,MAAO,KAEX,CACIF,WAAY,OACZC,MAAO,OACPC,MAAO,KAEX,CACIF,WAAY,WACZC,MAAO,SACPC,MAAO,KAEX,CACIF,WAAY,gBACZC,MAAO,aACPC,MAAO,KAEX,CACIF,WAAY,kBACZC,MAAO,kBACPC,MAAO,KAEX,CACIF,WAAY,QACZC,MAAO,QACPC,MAAO,IACPC,UAAW,CAAEC,UAAW,SACxBC,eAAgB,SAAUC,GAEtB,OAAOC,OAAOD,EAAOE,OAAOC,QAAQ,GAAGC,QAAQ,wBAAyB,OAGhF,CACIV,WAAY,gBACZC,MAAO,aACPC,MAAO,IACPG,eAAgB,SAAUC,GAKtB,MAJqB,CACjBK,EAAK,WACLC,EAAK,iBAEWN,EAAOE,QAAUF,EAAOE,QAGpD,CACIR,WAAY,SACZa,aAAc,SAAUP,GACpB,MAAMQ,EAAaxC,SAASyC,cAAc,KAC1CD,EAAWE,UAAY,6CACvBF,EAAWG,MAAQ,SAEnBH,EAAWvC,iBAAiB,SAASM,uBAC3BY,yBAENrB,EAAE,cAAcuB,IAAIW,EAAOpB,KAAKgC,WAEhC9C,EAAE,oBAAoBuB,IAAIW,EAAOpB,KAAKiC,iBACtC/C,EAAE,aAAauB,IAAIW,EAAOpB,KAAKkC,UAC/BhD,EAAE,eAAeuB,IAAIW,EAAOpB,KAAKmC,YACjCjD,EAAE,UAAUuB,IAAIW,EAAOpB,KAAKoC,OAC5BlD,EAAE,aAAauB,IAAIW,EAAOpB,KAAKqC,UAC/BnD,EAAE,cAAcuB,IAAIW,EAAOpB,KAAKsC,WAEhCpD,EAAE,mBAAmBuB,IAAIW,EAAOpB,KAAKuC,SACrCrD,EAAE,mBAAmBsD,KAAKpB,EAAOpB,KAAKyC,MAEtCvD,EAAE,uBAAuBuB,IAAIW,EAAOpB,KAAK0C,aACzCxD,EAAE,uBAAuBsD,KAAKpB,EAAOpB,KAAK2C,QAEtCzD,EAAE,cAAcuB,QAChBvB,EAAE,YAAY0D,SAAS,kBACvB1D,EAAE,gBAAgB0D,SAAS,sBAKnC,MAAMC,EAAkBzD,SAASyC,cAAc,OAI/C,OAHAgB,EAAgBC,UAAY,oBAC5BD,EAAgBE,YAAYnB,GAErBiB,GAEX7B,MAAO,IACPgC,YAAa,aACbC,UAAW,qBACXC,QAAQ,IAKe,WAC/BC,eAIJ,SAAS3D,YACL4D,cAAc,oBAAqB,CAAC,eAExCzD,eAAeY,yBACXrB,EAAE,qBAAqBY,OACvBZ,EAAE,YAAYmE,YAAY,kBAC1BnE,EAAE,gBAAgBmE,YAAY,wBAExBpD,qBACAG,mBAEVT,eAAeM,eACX,IACI,MAAMqD,QAAkBC,MAAM,iBAAkB,CAC5CC,OAAQ,QAENxD,QAAasD,EAAUG,OAK7B,OAFKzD,EAAK0D,OAAS,GAAGC,UAAU,UAAW,gCAAiC,MAErE3D,EACT,MAAO4D,GACLC,QAAQD,MAAMA,GACdE,SAAS,QAAS,mBAAoB,2BAA2B,IAGzEnE,eAAeS,mBACX,IACI,MAAMkD,QAAkBC,MAAM,qBAAsB,CAChDC,OAAQ,QAENxD,QAAasD,EAAUG,OAK7B,OAFKzD,EAAK0D,OAAS,GAAGC,UAAU,UAAW,gCAAiC,MAErE3D,EACT,MAAO4D,GACLC,QAAQD,MAAMA,GACdE,SAAS,QAAS,mBAAoB,2BAA2B,IAGzEnE,eAAeQ,uBAEX0D,QAAQE,IAAI,iBACZ7E,EAAE,oBAAoBuB,IAAI,IAC1B,IAAIgC,EAAOvD,EAAE,YAAYuB,MACrBuD,EAAW9E,EAAE,gBAAgBuB,MAEjC,GAAIgC,GAAQuB,EACR,IACI,MAAMC,EAAQ,IAAIC,SAClBD,EAAME,OAAO,UAAW1B,GACxBwB,EAAME,OAAO,cAAeH,GAE5B,MAAMV,QAAkBC,MAAM,yBAA0B,CACpDC,OAAQ,OACRY,KAAMH,IAGJjE,QAAasD,EAAUG,OAG7B,GAAIzD,EAAKqE,MAAO,CACZ,IAAIC,EAAYtE,EAAKqE,MAAM,GAAGC,UAC1BC,EAAOvE,EAAKqE,MAAM,GAAGE,KAGzB,GAAID,GAAaC,EAAO,EAAG,CACvB,IAAIC,EAAiBC,uBAAuBH,EAAWC,GAEvDrF,EAAE,oBAAoBuB,IAAI+D,IAQlC,OAJIxE,EAAK0E,SACLf,UAAU,UAAW3D,EAAK0E,QAAQd,MAAO,MAGtC5D,EACT,MAAO4D,GACLC,QAAQD,MAAMA,GACdE,SAAS,QAAS,mBAAoB,2BAA2B,IAK7E,SAASW,uBAAuBH,EAAWC,GAGvC,IACII,GAAUL,GAFD,MACGC,IACchD,QAAQ,GAElCqD,EAAQC,KAAKC,MAAMH,GAGvB,OAAOC,EAAQ,IAFDC,KAAKE,MAAyB,IAAlBJ,EAASC,IAIvCjF,eAAewD,eACX,IACI,MAAMG,QAAkBC,MAAM,kBAAmB,CAC7CC,OAAQ,QAENxD,QAAasD,EAAUG,OAG7B,IAAIuB,EAAUC,eAAgBjF,GAC9BkF,QAAQC,cAAc,UAAWH,GAEnC,MAAOpB,GACLC,QAAQD,MAAMA,GACdD,UAAU,UAAW,6BAA8B,OAG3DhE,eAAee,cAEX,MAAM6B,EAAUrD,EAAE,YAAYuB,MACxBiC,EAAcxD,EAAE,gBAAgBuB,MAChCwB,EAAkB/C,EAAE,oBAAoBuB,MACxCyB,EAAWhD,EAAE,aAAauB,MAC1B0B,EAAajD,EAAE,eAAeuB,MAC9B2B,EAAQlD,EAAE,UAAUuB,MACpB4B,EAAWnD,EAAE,aAAauB,MAC1B6B,EAAYpD,EAAE,cAAcuB,MAElC,IAEI,MAAMwD,EAAQ,IAAIC,SAClBD,EAAME,OAAO,UAAW5B,GACxB0B,EAAME,OAAO,cAAezB,GAC5BuB,EAAME,OAAO,kBAAmBlC,GAChCgC,EAAME,OAAO,WAAYjC,GACzB+B,EAAME,OAAO,aAAchC,GAC3B8B,EAAME,OAAO,QAAS/B,GACtB6B,EAAME,OAAO,WAAY9B,GACzB4B,EAAME,OAAO,YAAa7B,GAE1B,MAAMgB,QAAkBC,MAAM,eAAgB,CAC1CC,OAAQ,OACRY,KAAMH,IAGJjE,QAAasD,EAAUG,OAGX,GAAdzD,EAAKqE,OAELP,SAAS,UAAW,QAAS,iCAAiC,GAC9DsB,WAAW,KACPC,KAAKC,QACL9F,YACA2D,gBACD,OACkB,GAAdnD,EAAKqE,OACZP,SAAS,QAAS,0BAA2B9D,EAAKuF,UAAU,GAE5DvF,EAAK0E,SACLf,UAAU,UAAW3D,EAAK0E,QAAQd,MAAO,MAG/C,MAAOA,GACLC,QAAQD,MAAMA,GACdE,SAAS,QAAS,uBAAwB,mCAAmC,IAGrFnE,eAAegB,mBAEX,MAAMqB,EAAY9C,EAAE,cAAcuB,MAC5B8B,EAAUrD,EAAE,YAAYuB,MACxBiC,EAAcxD,EAAE,gBAAgBuB,MAChCwB,EAAkB/C,EAAE,oBAAoBuB,MACxCyB,EAAWhD,EAAE,aAAauB,MAC1B0B,EAAajD,EAAE,eAAeuB,MAC9B2B,EAAQlD,EAAE,UAAUuB,MACpB4B,EAAWnD,EAAE,aAAauB,MAC1B6B,EAAYpD,EAAE,cAAcuB,MAElC,IAEI,MAAMwD,EAAQ,IAAIC,SAClBD,EAAME,OAAO,YAAanC,GAC1BiC,EAAME,OAAO,UAAW5B,GACxB0B,EAAME,OAAO,cAAezB,GAC5BuB,EAAME,OAAO,kBAAmBlC,GAChCgC,EAAME,OAAO,WAAYjC,GACzB+B,EAAME,OAAO,aAAchC,GAC3B8B,EAAME,OAAO,QAAS/B,GACtB6B,EAAME,OAAO,WAAY9B,GACzB4B,EAAME,OAAO,YAAa7B,GAE1B,MAAMgB,QAAkBC,MAAM,oBAAqB,CAC/CC,OAAQ,OACRY,KAAMH,IAGJjE,QAAasD,EAAUG,OAC7BI,QAAQE,IAAI/D,GAEM,GAAdA,EAAKqE,OAELP,SAAS,UAAW,QAAS,iCAAiC,GAC9DsB,WAAW,KACPC,KAAKC,QACL9F,YACA2D,gBACD,OACkB,GAAdnD,EAAKqE,OACZP,SAAS,QAAS,0BAA2B9D,EAAKuF,UAAU,GAE5DvF,EAAK0E,SACLf,UAAU,UAAW3D,EAAK0E,QAAQd,MAAO,MAG/C,MAAOA,GACLC,QAAQD,MAAMA,GACdE,SAAS,QAAS,uBAAwB,mCAAmC,IA/XrF5E,GAAE,WACED,iBACA2B,oBACAP","file":"tarifas.js","sourcesContent":["let gridOptions;\r\n\r\n// Utilizando el Principio de Modularidad\r\n$(function () {\r\n    asignarEventos();\r\n    inicializarPagina();\r\n    configurarBotones();\r\n});\r\n\r\nfunction asignarEventos() {\r\n    // Ocultar Listados\r\n    $('.rutaSearch').hide();\r\n    $('.aeronSearch').hide();\r\n\r\n    document.addEventListener(\"keydown\", e => {\r\n        if (e.key === 'Escape') {\r\n            resetForm();\r\n        }\r\n    });\r\n\r\n    // $(\"#ruta_id, #aeronave_id\").change(e => {\r\n    //     console.log('cambio');\r\n    //     $('#tiempo_estimado').val('');\r\n    //     let ruta = $('#ruta_id').val();\r\n    //     let aeronave = $('#aeronave_id').val();\r\n    //     if (ruta && aeronave) obtenerDetalleTarifa(ruta, aeronave);\r\n    // });\r\n\r\n    aplicarMascaraCantidad('costo', 'impuesto', 'descuento');\r\n\r\n    // Lista Rutas\r\n    document.getElementById(\"ruta_id\").addEventListener(\"mousedown\", async function (event) {\r\n        event.preventDefault();\r\n        $('.rutaSearch').show();\r\n        $('.inRutaSrch').focus()\r\n        let data = await obtenerRutas();\r\n        const listSearch = await mostrarListaSearch(data, '.rutaSearch', 'ruta_id', 'rutas_nombre');\r\n        obtenerDetalleTarifa();\r\n    });\r\n\r\n    // Lista Aeronaves\r\n    document.getElementById(\"aeronave_id\").addEventListener(\"mousedown\", async function (event) {\r\n        event.preventDefault();\r\n        $('.aeronSearch').show();\r\n        $('.inAeronSrch').focus()\r\n        let data = await obtenerAeronaves();\r\n        const listSearch = await mostrarListaSearch(data, '.aeronSearch', 'aeronave_id', 'modelo');\r\n        obtenerDetalleTarifa();\r\n    });\r\n}\r\n\r\nfunction configurarBotones() {\r\n    $(\".contenedor-altas\").hide();\r\n    $(\"#crear-tarifa\").click(mostrarContenedorAltas);\r\n\r\n    $(\".btn-cancelar\").click(e => {\r\n        resetForm();\r\n    });\r\n\r\n    $(\"#btnGuardar\").click(e => {\r\n        let validar = validateInputs($('#formAltas'));\r\n        if (validar) $('#tarifa_id').val() == '' ? crearTarifa() : actualizarTarifa();\r\n    });\r\n}\r\n\r\nfunction inicializarPagina() {\r\n    let columnDefs = [\r\n        {\r\n            headerName: 'id',\r\n            field: 'tarifa_id',\r\n            width: 80\r\n        },\r\n        {\r\n            headerName: 'Concepto',\r\n            field: 'concepto',\r\n            width: 150\r\n        },\r\n        {\r\n            headerName: 'Ruta',\r\n            field: 'ruta',\r\n            width: 180\r\n        },\r\n        {\r\n            headerName: 'Aeronave',\r\n            field: 'modelo',\r\n            width: 150\r\n        },\r\n        {\r\n            headerName: 'Tipo de Vuelo',\r\n            field: 'tipo_vuelo',\r\n            width: 120\r\n        },\r\n        {\r\n            headerName: 'Tiempo Estimado',\r\n            field: 'tiempo_estimado',\r\n            width: 120\r\n        },\r\n        {\r\n            headerName: 'Costo',\r\n            field: 'costo',\r\n            width: 130,\r\n            cellStyle: { textAlign: 'right' }, // Alinea los datos a la derecha\r\n            valueFormatter: function (params) {\r\n                // Formatea el número con comas como separadores de miles y dos decimales\r\n                return Number(params.value).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n            }\r\n        },\r\n        {\r\n            headerName: 'Tipo de Vuelo',\r\n            field: 'tipo_vuelo',\r\n            width: 120,\r\n            valueFormatter: function (params) {\r\n                const traducciones = {\r\n                    \"N\": \"Nacional\",\r\n                    \"I\": \"Internacional\"\r\n                };\r\n                return traducciones[params.value] || params.value;\r\n            }\r\n        },\r\n        {\r\n            headerName: 'Acción',\r\n            cellRenderer: function (params) {\r\n                const editButton = document.createElement('I');\r\n                editButton.className = \"fa-regular fa-pen-to-square btn btn-editar\";\r\n                editButton.title = 'Editar';\r\n\r\n                editButton.addEventListener('click', async function () {\r\n                    await mostrarContenedorAltas();\r\n\r\n                    $('#tarifa_id').val(params.data.tarifa_id);\r\n\r\n                    $('#tiempo_estimado').val(params.data.tiempo_estimado);\r\n                    $('#concepto').val(params.data.concepto);\r\n                    $('#tipo_vuelo').val(params.data.tipo_vuelo);\r\n                    $('#costo').val(params.data.costo);\r\n                    $('#impuesto').val(params.data.impuesto);\r\n                    $('#descuento').val(params.data.descuento);\r\n\r\n                    $('#ruta_id option').val(params.data.ruta_id);\r\n                    $('#ruta_id option').text(params.data.ruta);\r\n\r\n                    $('#aeronave_id option').val(params.data.aeronave_id);\r\n                    $('#aeronave_id option').text(params.data.modelo);\r\n\r\n                    if ($('#tarifa_id').val()) {\r\n                        $('#ruta_id').addClass('input-disabled');\r\n                        $('#aeronave_id').addClass('input-disabled');\r\n                    }\r\n                });\r\n\r\n                // Crea un contenedor para los botones y los agrega\r\n                const actionContainer = document.createElement('div');\r\n                actionContainer.classList = \"btn-cont centrado\";\r\n                actionContainer.appendChild(editButton);\r\n\r\n                return actionContainer;\r\n            },\r\n            width: 150,\r\n            headerClass: 'txt-center',\r\n            cellClass: 'custom-action-cell', // Agregar la clase CSS 'custom-action-cell' a todas las celdas en esta columna\r\n            filter: false\r\n        },\r\n    ];\r\n\r\n    let data = '';\r\n    iniciarTabla(data, columnDefs, '#myGrid');\r\n    traerTarifas();\r\n}\r\n\r\n// FUNCIONES\r\nfunction resetForm() {\r\n    cerrarVentana('.contenedor-altas', ['#formAltas']);\r\n}\r\nasync function mostrarContenedorAltas() {\r\n    $(\".contenedor-altas\").show();\r\n    $('#ruta_id').removeClass('input-disabled');\r\n    $('#aeronave_id').removeClass('input-disabled');\r\n\r\n    await obtenerRutas();\r\n    await obtenerAeronaves();\r\n}\r\nasync function obtenerRutas() {\r\n    try {\r\n        const respuesta = await fetch('/obtener/rutas', {\r\n            method: 'GET'\r\n        });\r\n        const data = await respuesta.json();\r\n        // console.log(data);\r\n\r\n        if (!data.length > 0) SwalToast('warning', 'No hay Programas disponibles.', 2500);\r\n\r\n        return data;\r\n    } catch (error) {\r\n        console.error(error);\r\n        SwalLoad('error', 'Ocurrio Un Error', 'Conección Perdida a BD.', false);\r\n    }\r\n}\r\nasync function obtenerAeronaves() {\r\n    try {\r\n        const respuesta = await fetch('/aeronaves/activas', {\r\n            method: 'GET'\r\n        });\r\n        const data = await respuesta.json();\r\n        // console.log(data);\r\n\r\n        if (!data.length > 0) SwalToast('warning', 'No hay Programas disponibles.', 2500);\r\n\r\n        return data;\r\n    } catch (error) {\r\n        console.error(error);\r\n        SwalLoad('error', 'Ocurrio Un Error', 'Conección Perdida a BD.', false);\r\n    }\r\n}\r\nasync function obtenerDetalleTarifa() {\r\n\r\n    console.log('calculando...');\r\n    $('#tiempo_estimado').val('');\r\n    let ruta = $('#ruta_id').val();\r\n    let aeronave = $('#aeronave_id').val();\r\n\r\n    if (ruta && aeronave) {\r\n        try {\r\n            const datos = new FormData();\r\n            datos.append('ruta_id', ruta);\r\n            datos.append('aeronave_id', aeronave);\r\n\r\n            const respuesta = await fetch('/obtener/detalleTarifa', {\r\n                method: 'POST',\r\n                body: datos\r\n            });\r\n\r\n            const data = await respuesta.json();\r\n            // console.log(data);\r\n\r\n            if (data.exito) {\r\n                let distancia = data.exito[0].distancia;\r\n                let ktas = data.exito[0].ktas;\r\n\r\n\r\n                if (distancia && ktas > 0) {\r\n                    let tiempoEstimado = calcularTiempoEstimado(distancia, ktas);\r\n                    \r\n                    $('#tiempo_estimado').val(tiempoEstimado);\r\n                }\r\n            }\r\n\r\n            if (data.alertas) {\r\n                SwalToast('warning', data.alertas.error, 2500);\r\n            }\r\n\r\n            return data;\r\n        } catch (error) {\r\n            console.error(error);\r\n            SwalLoad('error', 'Ocurrio Un Error', 'Conección Perdida a BD.', false);\r\n        }\r\n    }\r\n}\r\n// Función para calcular el tiempo estimado de vuelo\r\nfunction calcularTiempoEstimado(distancia, ktas) {\r\n\r\n    const nudo = 1.852; // Km / h\r\n    let km = nudo * ktas;\r\n    let tiempo = (distancia / km).toFixed(2);\r\n\r\n    let horas = Math.floor(tiempo); // Obtener la parte entera de las horas\r\n    let minutos = Math.round((tiempo - horas) * 60); // Convertir la fracción de hora a minutos\r\n\r\n    return horas + \":\" + minutos;\r\n}\r\nasync function traerTarifas() {\r\n    try {\r\n        const respuesta = await fetch('obtener/tarifas', {\r\n            method: 'GET',\r\n        });\r\n        const data = await respuesta.json();\r\n        // console.log(data);\r\n\r\n        let convert = verificarArray (data);\r\n        gridApi.setGridOption('rowData', convert);\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n        SwalToast('warning', 'Error al obtener los datos', 2500);\r\n    }\r\n}\r\nasync function crearTarifa() {\r\n\r\n    const ruta_id = $('#ruta_id').val();\r\n    const aeronave_id = $('#aeronave_id').val();\r\n    const tiempo_estimado = $('#tiempo_estimado').val();\r\n    const concepto = $('#concepto').val();\r\n    const tipo_vuelo = $('#tipo_vuelo').val();\r\n    const costo = $('#costo').val();\r\n    const impuesto = $('#impuesto').val();\r\n    const descuento = $('#descuento').val();\r\n\r\n    try {\r\n\r\n        const datos = new FormData();\r\n        datos.append('ruta_id', ruta_id);\r\n        datos.append('aeronave_id', aeronave_id);\r\n        datos.append('tiempo_estimado', tiempo_estimado);\r\n        datos.append('concepto', concepto);\r\n        datos.append('tipo_vuelo', tipo_vuelo);\r\n        datos.append('costo', costo);\r\n        datos.append('impuesto', impuesto);\r\n        datos.append('descuento', descuento);\r\n\r\n        const respuesta = await fetch('crear/tarifa', {\r\n            method: 'POST',\r\n            body: datos\r\n        });\r\n\r\n        const data = await respuesta.json();\r\n        // console.log(data);\r\n\r\n        if (data.exito == 1) {\r\n            // Registro Creado Exitosamente\r\n            SwalLoad('success', 'Éxito', 'Registro Creado Correctamente', false);\r\n            setTimeout(() => {\r\n                swal.close();\r\n                resetForm();\r\n                traerTarifas();\r\n            }, 1500);\r\n        } else if (data.exito == 0) {\r\n            SwalLoad('error', 'Error en la Transacción', data.errorSMS, true);\r\n        }\r\n        if (data.alertas) {\r\n            SwalToast('warning', data.alertas.error, 2500);\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n        SwalLoad('error', 'Error en la Conexión', 'Comunicate con el Administrador', false);\r\n    }\r\n}\r\nasync function actualizarTarifa() {\r\n\r\n    const tarifa_id = $('#tarifa_id').val();\r\n    const ruta_id = $('#ruta_id').val();\r\n    const aeronave_id = $('#aeronave_id').val();\r\n    const tiempo_estimado = $('#tiempo_estimado').val();\r\n    const concepto = $('#concepto').val();\r\n    const tipo_vuelo = $('#tipo_vuelo').val();\r\n    const costo = $('#costo').val();\r\n    const impuesto = $('#impuesto').val();\r\n    const descuento = $('#descuento').val();\r\n\r\n    try {\r\n\r\n        const datos = new FormData();\r\n        datos.append('tarifa_id', tarifa_id);\r\n        datos.append('ruta_id', ruta_id);\r\n        datos.append('aeronave_id', aeronave_id);\r\n        datos.append('tiempo_estimado', tiempo_estimado);\r\n        datos.append('concepto', concepto);\r\n        datos.append('tipo_vuelo', tipo_vuelo);\r\n        datos.append('costo', costo);\r\n        datos.append('impuesto', impuesto);\r\n        datos.append('descuento', descuento);\r\n\r\n        const respuesta = await fetch('actualizar/tarifa', {\r\n            method: 'POST',\r\n            body: datos\r\n        });\r\n\r\n        const data = await respuesta.json();\r\n        console.log(data);\r\n\r\n        if (data.exito == 1) {\r\n            // Registro Creado Exitosamente\r\n            SwalLoad('success', 'Éxito', 'Registro Creado Correctamente', false);\r\n            setTimeout(() => {\r\n                swal.close();\r\n                resetForm();\r\n                traerTarifas();\r\n            }, 1500);\r\n        } else if (data.exito == 0) {\r\n            SwalLoad('error', 'Error en la Transacción', data.errorSMS, true);\r\n        }\r\n        if (data.alertas) {\r\n            SwalToast('warning', data.alertas.error, 2500);\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n        SwalLoad('error', 'Error en la Conexión', 'Comunicate con el Administrador', false);\r\n    }\r\n}\r\n"]}