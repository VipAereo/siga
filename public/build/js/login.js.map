{"version":3,"sources":["login.js"],"names":["configurarBotones","document","addEventListener","e","key","validarInputs","$","click","nombre_user","val","password","removeClass","addClass","iniciarSesion","async","datos","FormData","append","respuesta","fetch","method","body","data","json","exito","window","location","href","userNoExist","SwalToast","userAct","pass","error","console"],"mappings":"AAMA,SAASA,oBAELC,SAASC,iBAAiB,UAAWC,IACnB,UAAVA,EAAEC,KACFC,kBAIRC,EAAE,UAAUC,MAAMJ,IACdE,kBAIR,SAASA,gBACL,MAAMG,EAAcF,EAAE,gBAAgBG,MAChCC,EAAWJ,EAAE,aAAaG,MAE3BD,GAIDF,EAAE,gBAAgBK,YAAY,kBAC9BL,EAAE,eAAeK,YAAY,gBAJ7BL,EAAE,gBAAgBM,SAAS,kBAC3BN,EAAE,eAAeM,SAAS,eAMzBF,GAIDJ,EAAE,aAAaK,YAAY,kBAC3BL,EAAE,eAAeK,YAAY,gBAJ7BL,EAAE,aAAaM,SAAS,kBACxBN,EAAE,eAAeM,SAAS,eAM1BJ,GAAeE,GAAUG,gBAIjCC,eAAeD,gBAEX,MAAML,EAAcF,EAAE,gBAAgBG,MAChCC,EAAWJ,EAAE,aAAaG,MAE1BM,EAAQ,IAAIC,SAClBD,EAAME,OAAO,cAAeT,GAC5BO,EAAME,OAAO,WAAYP,GAEzB,IACI,MAAMQ,QAAkBC,MAAM,QAAS,CACnCC,OAAQ,OACRC,KAAMN,IAEJO,QAAaJ,EAAUK,OAGX,GAAdD,EAAKE,QAELC,OAAOC,SAASC,KAAO,KAGvBL,EAAKM,cACLC,UAAU,UAAWP,EAAKM,YAAa,MACvCtB,EAAE,gBAAgBG,IAAI,IACtBH,EAAE,aAAaG,IAAI,KAGnBa,EAAKQ,UACLD,UAAU,UAAWP,EAAKQ,QAAS,MACnCxB,EAAE,gBAAgBG,IAAI,IACtBH,EAAE,aAAaG,IAAI,KAGnBa,EAAKS,OACLF,UAAU,UAAWP,EAAKS,KAAM,MAChCzB,EAAE,aAAaG,IAAI,KAGzB,MAAOuB,GACLC,QAAQD,MAAMA,GACdH,UAAU,UAAW,gCAAiC,OAlF9DvB,GAAE,WACEN","file":"login.js","sourcesContent":["\r\n// Utilizando el Principio de Modularidad\r\n$(function () {\r\n    configurarBotones();\r\n});\r\n\r\nfunction configurarBotones() {\r\n\r\n    document.addEventListener(\"keydown\", e => {\r\n        if (e.key === 'Enter') {\r\n            validarInputs();\r\n        }\r\n    });\r\n\r\n    $(\"#logeo\").click(e => {\r\n        validarInputs();\r\n    });\r\n}\r\n\r\nfunction validarInputs() {\r\n    const nombre_user = $('#nombre_user').val();\r\n    const password = $('#password').val();\r\n\r\n    if (!nombre_user) {\r\n        $('#nombre_user').addClass('campoRequerido');\r\n        $('.login-user').addClass('errorInput');\r\n    } else {\r\n        $('#nombre_user').removeClass('campoRequerido');\r\n        $('.login-user').removeClass('errorInput');\r\n    }\r\n\r\n    if (!password) {\r\n        $('#password').addClass('campoRequerido');\r\n        $('.login-pass').addClass('errorInput');\r\n    } else {\r\n        $('#password').removeClass('campoRequerido');\r\n        $('.login-pass').removeClass('errorInput');\r\n    }\r\n\r\n    if (nombre_user && password) iniciarSesion();\r\n\r\n}\r\n\r\nasync function iniciarSesion() {\r\n\r\n    const nombre_user = $('#nombre_user').val();\r\n    const password = $('#password').val();\r\n\r\n    const datos = new FormData();\r\n    datos.append('nombre_user', nombre_user);\r\n    datos.append('password', password);\r\n\r\n    try {\r\n        const respuesta = await fetch('logeo', {\r\n            method: 'POST',\r\n            body: datos\r\n        });\r\n        const data = await respuesta.json();\r\n        // console.log(data);\r\n\r\n        if (data.exito == 1) {\r\n            // aqui falta la ruta Server \r\n            window.location.href = '/';\r\n        }\r\n\r\n        if (data.userNoExist) {\r\n            SwalToast('warning', data.userNoExist, 2500);\r\n            $('#nombre_user').val('');\r\n            $('#password').val('');\r\n        }\r\n\r\n        if (data.userAct) {\r\n            SwalToast('warning', data.userAct, 2500);\r\n            $('#nombre_user').val('');\r\n            $('#password').val('');\r\n        }\r\n\r\n        if (data.pass) {\r\n            SwalToast('warning', data.pass, 2500);\r\n            $('#password').val('');\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n        SwalToast('warning', 'Error al obtener los usuarios', 2500);\r\n    }\r\n\r\n}"]}